---
phase: 08-frontend-filter-search-controls
task: 0
total_tasks: 4
status: planned
last_updated: 2026-02-23T22:30:03.551Z
---

<current_state>
Phase 8 planning is COMPLETE. Research, 2 plans, and verification all passed. No execution has started yet. The phase is fully ready for `/gsd:execute-phase 8`.
</current_state>

<completed_work>

- /gsd:discuss-phase 8: Context captured (08-CONTEXT.md) — locked decisions on FilterBar layout, debounce, dropdowns, quality mapping, zero-results message
- /gsd:plan-phase 8: Research completed (08-RESEARCH.md), 2 plans created (08-01-PLAN.md, 08-02-PLAN.md), verification passed first iteration
- Plan 08-01 (Wave 1): Extend ListParams/buildQueryString, add filter API functions, create useFilterOptions hooks, build reusable FilterBar component
- Plan 08-02 (Wave 2): Update paginated hooks with filter params in queryKey, wire FilterBar into powders/bullets/cartridges list pages
</completed_work>

<remaining_work>

- Execute Phase 8: Run `/gsd:execute-phase 8` to implement both plans
  - Wave 1: Plan 08-01 (API layer + FilterBar component)
  - Wave 2: Plan 08-02 (page wiring for powders, bullets, cartridges)
- After Phase 8: Phases 9 and 10 remain in the v1.2 roadmap
</remaining_work>

<decisions_made>

- Horizontal FilterBar above table (filters left, search right) — locked in CONTEXT.md
- Native `<select>` elements for dropdowns (not custom Select component) — keeps filter bar compact
- FilterBar is stateless for search — parent pages own useDebounce(searchTerm, 300)
- Quality dropdown maps display labels (Alta/Media/Baja) to backend values (success/warning/danger)
- Cartridges page omits manufacturer dropdown (cartridges have no manufacturer field)
- Empty string treated as "no filter" in buildQueryString (only adds truthy params)
- All filter params included in queryKey to prevent stale cache
- Changing any filter resets pagination to page 1
</decisions_made>

<blockers>
None. Phase is fully planned and ready to execute.
</blockers>

<context>
This is a gap-closure phase from the v1.2 audit. The backend already supports all filter/search query params (manufacturer, caliber_family, quality_level, q, sort, order) plus dynamic /manufacturers and /caliber-families endpoints. The gap is purely frontend: ListParams in api.ts only has page/size/q and buildQueryString only serializes those three. The plans close this gap with minimal new code — extending existing interfaces and adding a reusable FilterBar component.
</context>

<next_action>
Start with: `/gsd:execute-phase 8` to implement both plans. Wave 1 builds the API layer and FilterBar component, Wave 2 wires them into the three list pages.
</next_action>
