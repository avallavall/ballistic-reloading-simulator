---
phase: 11-foundation-and-data-expansion
task: 0
total_tasks: 3
status: planned_not_started
last_updated: 2026-02-27T19:36:02.048Z
---

<current_state>
Phase 11 (Foundation and Data Expansion) is fully planned but no execution has started. All 3 plans are written and committed. The git working tree is clean — no uncommitted changes.

This is the first phase of milestone v1.3 (Data Expansion + Visual Viewers). Milestones v1.1 and v1.2 are shipped (24 plans total across 10 phases).
</current_state>

<completed_work>

- v1.3 milestone roadmap created (4 phases: 11-14, 21 requirements) — commit d9e282f
- Phase 11 context gathered (11-CONTEXT.md) — commit 715d1ea
- Phase 11 research completed (11-RESEARCH.md, 39KB) — commit e300e39
- Phase 11 planned (3 plans, 2 waves) — commit 61a8fd1
</completed_work>

<remaining_work>

- Plan 11-01 (wave 1): Schema extensions — add 5 cartridge + 4 bullet + 5 BC fields to models/schemas/migration, update quality scoring, backfill 53 cartridges, update frontend types
- Plan 11-02 (wave 1): Geometry engine — install R3F v8/drei v9/Three.js, create cartridge-geometry.ts + bullet-geometry.ts with SVG path + Three.js profile point output, estimation module
- Plan 11-03 (wave 2, depends on 11-01): 500+ bullet seed data — 7 manufacturer JSON files (Sierra, Hornady, Berger, Nosler, Lapua, Barnes, Speer), updated seed loader, tests
- Then phases 12-14 (2D SVG drawings, 3D viewer, browser upload + caliber search) — not yet planned
</remaining_work>

<decisions_made>

- Sierra gets velocity-banded BCs (bc_g1_high/mid/low + velocity thresholds) — unique to Sierra's published data
- Geometry engine is pure TypeScript, framework-agnostic (shared between SVG and Three.js)
- Type-aware ogive profiles: tangent for "match", secant for "vld", flat-nose for "hunting", etc.
- Seed data replaces existing bullets only when count ≤127 (old seed), preserving user additions
- case_type enum: rimless, belted, rimmed, rebated, semi_rimmed, straight_wall (6 values)
- ogive_type enum: tangent, secant, hybrid, flat_nose, round_nose, spitzer (6 values)
- R3F v8 + drei v9 + React 18 is the only compatible Three.js combination
</decisions_made>

<blockers>
- None active
</blockers>

<context>
The session was spent on milestone v1.3 setup: creating the roadmap (4 phases, 21 requirements), gathering context for phase 11, researching the domain (produced 39KB research doc), and creating 3 execution plans. Plans 11-01 and 11-02 run in parallel (wave 1), then 11-03 depends on 11-01 (wave 2).

Key architectural note: the geometry engine (11-02) is designed as a shared library that outputs both SVG path data and Three.js Vector2 arrays from the same profile calculations. This guarantees 2D and 3D visualizations match exactly. The engine lives at frontend/src/lib/geometry/.
</context>

<next_action>
Start with: `/gsd:execute-phase 11` to execute all 3 plans (wave 1: 11-01 + 11-02 in parallel, wave 2: 11-03)
</next_action>
